type CartItemProduct {
  product_type: String
  name: String
  featured_image_url: String
  featured_image_alt: String
}

type CartItemOption {
  id: Int
  content: String
  price: Int
  count: Int
}

type CartItem {
  user: String # 유저 이메일
  added: DateTime
  modified: DateTime
  product_id: Int
  product: CartItemProduct
  options: [CartItemOption]
  meta: JSON
  id: Int
}

type AddCartitemResult {
  success: Boolean
  code: String
}
type UpdateOptionCountResult {
  success: Boolean
  code: String
}
type RemoveCartitemResult {
  success: Boolean
  code: String
}

input CartitemUpdate {
  modified: DateTime
}

input UpdateCountInput {
  count: Int
  modified: DateTime
}

input CartitemInput {
  user: String # 유저 이메일
  added: DateTime
  modified: DateTime
  product_id: Int
  product: CartitemProductInput
  options: [CartitemOptionInput]
  meta: JSON
  # id: Int
}

input CartitemOptionInput {
  id: String
  content: String
  price: Int
  count: Int
}

input CartitemProductInput {
  product_type: String
  name: String
  featured_image_url: String
  featured_image_alt: String
}

extend type Query {
  cartitems: [CartItem] # 현재 유저의 모든 cartitem 을 불러옴.
}

extend type Mutation {
  addCartitem(input: CartitemInput!): AddCartitemResult
  updateOptionCount(
    id: Int!
    optionId: String!
    count: Int!
    current: DateTime!
  ): UpdateOptionCountResult # Cartitem id, 옵션 id, 카운트
  removeCartitem(id: Int!): RemoveCartitemResult
}
